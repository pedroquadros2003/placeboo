#: import box_layout_with_action_bar auxiliary_classes.box_layout_with_action_bar

<ChangePasswordScreen>:
    BoxLayoutWithActionBar:
        title: 'Mudar Senha'
        ChangePasswordView:
            id: change_password_view_content
            current_user_name: root.current_user_name # Pass user from screen to view

<ChangePasswordView>:
    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(15)
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 1 # Light gray background
            Rectangle:
                pos: self.pos
                size: self.size

        TextInput:
            id: current_password_input
            hint_text: 'Senha Atual'
            password: True
            size_hint_y: None
            height: dp(48)
            multiline: False

        TextInput:
            id: new_password_input
            hint_text: 'Nova Senha (m√≠nimo 6 caracteres)'
            password: True
            size_hint_y: None
            height: dp(48)
            multiline: False

        TextInput:
            id: confirm_new_password_input # [R005]
            hint_text: 'Confirmar Nova Senha' # [R005]
            password: True
            size_hint_y: None
            height: dp(48)
            multiline: False

        Button:
            text: 'Mudar Senha'
            size_hint_y: None
            height: dp(48)
            on_press: root.change_password()

        Button:
            text: 'Cancelar'
            size_hint_y: None
            height: dp(48)
            on_press: root.cancel()